{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Link,useParams}from'react-router-dom';import{getProduct}from'../api/ProductService';import{toastError,toastSuccess}from'../api/ToastService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductDetail=_ref=>{let{updateProduct}=_ref;const inputRef=useRef();const[product,setProduct]=useState({id:'',name:'',category:'',description:'',price:'',imageUrl:''});const{id}=useParams();const fetchProduct=async id=>{try{const{data}=await getProduct(id);setProduct(data);console.log(data);}catch(error){console.log(error);toastError(error.message);}};const selectImage=()=>{inputRef.current.click();};useEffect(()=>{fetchContact(id);},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Link,{to:'/products',className:\"link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-left\"}),\" Back to list\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__details\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.imageUrl,alt:\"Product photo of \".concat(product.name)}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__metadata\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"profile__name\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__muted\",children:\"JPG, GIF, or PNG. Max size of 10MG\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profile__settings\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onUpdateContact,className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",defaultValue:product.id,name:\"id\",required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"details\",children:\"Category\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:product.category,onChange:onChange,name:\"name\",required:true})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form_footer\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",children:\"Save\"})})]})})})]})]});};export default ProductDetail;","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","useParams","getProduct","toastError","toastSuccess","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductDetail","_ref","updateProduct","inputRef","product","setProduct","id","name","category","description","price","imageUrl","fetchProduct","data","console","log","error","message","selectImage","current","click","fetchContact","children","to","className","src","alt","concat","onSubmit","onUpdateContact","type","defaultValue","required","value","onChange"],"sources":["C:/space/java/retail-product-catalog/src/main/product-catalog-frontend/src/components/ProductDetail.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { getProduct } from '../api/ProductService';\r\nimport { toastError, toastSuccess } from '../api/ToastService';\r\n\r\nconst ProductDetail = ({ updateProduct }) => {\r\n    const inputRef = useRef();\r\n    const [product, setProduct] = useState({\r\n        id: '',\r\n        name: '',\r\n        category: '',\r\n        description: '',\r\n        price: '',\r\n        imageUrl: ''\r\n    });\r\n\r\n    const { id } = useParams();\r\n\r\n    const fetchProduct = async (id) => {\r\n        try {\r\n            const { data } = await getProduct(id);\r\n            setProduct(data);\r\n            console.log(data);\r\n        } catch (error) {\r\n            console.log(error);\r\n            toastError(error.message);\r\n        }\r\n    };\r\n\r\n    const selectImage = () => {\r\n        inputRef.current.click();\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchContact(id);\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Link to={'/products'} className='link'><i className='bi bi-arrow-left'></i> Back to list</Link>\r\n            <div className='profile'>\r\n                <div className='profile__details'>\r\n                    <img src={product.imageUrl} alt={`Product photo of ${product.name}`} />\r\n                    <div className='profile__metadata'>\r\n                        <p className='profile__name'>{product.name}</p>\r\n                        <p className='profile__muted'>JPG, GIF, or PNG. Max size of 10MG</p>\r\n                    </div>\r\n                </div>\r\n                <div className='profile__settings'>\r\n                    <div>\r\n                        <form onSubmit={onUpdateContact} className=\"form\">\r\n                            <div className=\"user-details\">\r\n                                <input type=\"hidden\" defaultValue={product.id} name=\"id\" required />\r\n                                <div className=\"input-box\">\r\n                                    <span className=\"details\">Category</span>\r\n                                    <input type=\"text\" value={product.category} onChange={onChange} name=\"name\" required />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form_footer\">\r\n                                <button type=\"submit\" className=\"btn\">Save</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProductDetail;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,IAAI,CAAEC,SAAS,KAAQ,kBAAkB,CAClD,OAASC,UAAU,KAAQ,uBAAuB,CAClD,OAASC,UAAU,CAAEC,YAAY,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE/D,KAAM,CAAAC,aAAa,CAAGC,IAAA,EAAuB,IAAtB,CAAEC,aAAc,CAAC,CAAAD,IAAA,CACpC,KAAM,CAAAE,QAAQ,CAAGf,MAAM,CAAC,CAAC,CACzB,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGnB,QAAQ,CAAC,CACnCoB,EAAE,CAAE,EAAE,CACNC,IAAI,CAAE,EAAE,CACRC,QAAQ,CAAE,EAAE,CACZC,WAAW,CAAE,EAAE,CACfC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACd,CAAC,CAAC,CAEF,KAAM,CAAEL,EAAG,CAAC,CAAGhB,SAAS,CAAC,CAAC,CAE1B,KAAM,CAAAsB,YAAY,CAAG,KAAO,CAAAN,EAAE,EAAK,CAC/B,GAAI,CACA,KAAM,CAAEO,IAAK,CAAC,CAAG,KAAM,CAAAtB,UAAU,CAACe,EAAE,CAAC,CACrCD,UAAU,CAACQ,IAAI,CAAC,CAChBC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACrB,CAAE,MAAOG,KAAK,CAAE,CACZF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC,CAClBxB,UAAU,CAACwB,KAAK,CAACC,OAAO,CAAC,CAC7B,CACJ,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACtBf,QAAQ,CAACgB,OAAO,CAACC,KAAK,CAAC,CAAC,CAC5B,CAAC,CAEDjC,SAAS,CAAC,IAAM,CACZkC,YAAY,CAACf,EAAE,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIT,KAAA,CAAAE,SAAA,EAAAuB,QAAA,eACIzB,KAAA,CAACR,IAAI,EAACkC,EAAE,CAAE,WAAY,CAACC,SAAS,CAAC,MAAM,CAAAF,QAAA,eAAC3B,IAAA,MAAG6B,SAAS,CAAC,kBAAkB,CAAI,CAAC,gBAAa,EAAM,CAAC,cAChG3B,KAAA,QAAK2B,SAAS,CAAC,SAAS,CAAAF,QAAA,eACpBzB,KAAA,QAAK2B,SAAS,CAAC,kBAAkB,CAAAF,QAAA,eAC7B3B,IAAA,QAAK8B,GAAG,CAAErB,OAAO,CAACO,QAAS,CAACe,GAAG,qBAAAC,MAAA,CAAsBvB,OAAO,CAACG,IAAI,CAAG,CAAE,CAAC,cACvEV,KAAA,QAAK2B,SAAS,CAAC,mBAAmB,CAAAF,QAAA,eAC9B3B,IAAA,MAAG6B,SAAS,CAAC,eAAe,CAAAF,QAAA,CAAElB,OAAO,CAACG,IAAI,CAAI,CAAC,cAC/CZ,IAAA,MAAG6B,SAAS,CAAC,gBAAgB,CAAAF,QAAA,CAAC,oCAAkC,CAAG,CAAC,EACnE,CAAC,EACL,CAAC,cACN3B,IAAA,QAAK6B,SAAS,CAAC,mBAAmB,CAAAF,QAAA,cAC9B3B,IAAA,QAAA2B,QAAA,cACIzB,KAAA,SAAM+B,QAAQ,CAAEC,eAAgB,CAACL,SAAS,CAAC,MAAM,CAAAF,QAAA,eAC7CzB,KAAA,QAAK2B,SAAS,CAAC,cAAc,CAAAF,QAAA,eACzB3B,IAAA,UAAOmC,IAAI,CAAC,QAAQ,CAACC,YAAY,CAAE3B,OAAO,CAACE,EAAG,CAACC,IAAI,CAAC,IAAI,CAACyB,QAAQ,MAAE,CAAC,cACpEnC,KAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAF,QAAA,eACtB3B,IAAA,SAAM6B,SAAS,CAAC,SAAS,CAAAF,QAAA,CAAC,UAAQ,CAAM,CAAC,cACzC3B,IAAA,UAAOmC,IAAI,CAAC,MAAM,CAACG,KAAK,CAAE7B,OAAO,CAACI,QAAS,CAAC0B,QAAQ,CAAEA,QAAS,CAAC3B,IAAI,CAAC,MAAM,CAACyB,QAAQ,MAAE,CAAC,EACtF,CAAC,EACL,CAAC,cACNrC,IAAA,QAAK6B,SAAS,CAAC,aAAa,CAAAF,QAAA,cACxB3B,IAAA,WAAQmC,IAAI,CAAC,QAAQ,CAACN,SAAS,CAAC,KAAK,CAAAF,QAAA,CAAC,MAAI,CAAQ,CAAC,CAClD,CAAC,EACJ,CAAC,CACN,CAAC,CACL,CAAC,EACL,CAAC,EACR,CAAC,CAEX,CAAC,CAED,cAAe,CAAAtB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}