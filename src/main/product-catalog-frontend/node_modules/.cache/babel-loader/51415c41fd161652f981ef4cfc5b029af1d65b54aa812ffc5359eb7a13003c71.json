{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Link,useParams}from'react-router-dom';import{getProduct}from'../api/ProductService';import{toastError,toastSuccess}from'../api/ToastService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductDetail=()=>{const inputRef=useRef();const[product,setProduct]=useState({id:'',name:'',category:'',description:'',price:'',imageUrl:''});const{id}=useParams();const fetchProduct=async id=>{console.log(\"fetch product by id:\"+id);try{const{data}=await getProduct(id);setProduct(data);console.log(data);}catch(error){console.log(error);toastError(error.message);}};useEffect(()=>{fetchProduct(id);},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Link,{to:'/products',className:\"link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-left\"}),\" Back to list\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"product\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product__details\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.imageUrl,alt:\"Product photo of \".concat(product.name)}),/*#__PURE__*/_jsxs(\"div\",{className:\"product__metadata\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"product__name\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"product__name\",children:product.category.productCategory}),/*#__PURE__*/_jsx(\"p\",{className:\"product__name\",children:product.description}),/*#__PURE__*/_jsx(\"p\",{className:\"product__name\",children:product.price})]})]})})]});};export default ProductDetail;","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","useParams","getProduct","toastError","toastSuccess","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductDetail","inputRef","product","setProduct","id","name","category","description","price","imageUrl","fetchProduct","console","log","data","error","message","children","to","className","src","alt","concat","productCategory"],"sources":["C:/space/java/retail-product-catalog/src/main/product-catalog-frontend/src/components/ProductDetail.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { getProduct } from '../api/ProductService';\r\nimport { toastError, toastSuccess } from '../api/ToastService';\r\n\r\nconst ProductDetail = () => {\r\n    const inputRef = useRef();\r\n    const [product, setProduct] = useState({\r\n        id: '',\r\n        name: '',\r\n        category: '',\r\n        description: '',\r\n        price: '',\r\n        imageUrl: ''\r\n    });\r\n\r\n    const { id } = useParams();\r\n\r\n    const fetchProduct = async (id) => {\r\n        console.log(\"fetch product by id:\" + id);\r\n        try {\r\n            const { data } = await getProduct(id);\r\n            setProduct(data);\r\n            console.log(data);\r\n        } catch (error) {\r\n            console.log(error);\r\n            toastError(error.message);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchProduct(id);\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Link to={'/products'} className='link'><i className='bi bi-arrow-left'></i> Back to list</Link>\r\n            <div className='product'>\r\n                <div className='product__details'>\r\n                    <img src={product.imageUrl} alt={`Product photo of ${product.name}`} />\r\n                    <div className='product__metadata'>\r\n                        <p className='product__name'>{product.name}</p>\r\n                        <p className='product__name'>{product.category.productCategory}</p>\r\n                        <p className='product__name'>{product.description}</p>\r\n                        <p className='product__name'>{product.price}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProductDetail;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,IAAI,CAAEC,SAAS,KAAQ,kBAAkB,CAClD,OAASC,UAAU,KAAQ,uBAAuB,CAClD,OAASC,UAAU,CAAEC,YAAY,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE/D,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAC,QAAQ,CAAGb,MAAM,CAAC,CAAC,CACzB,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,CACnCkB,EAAE,CAAE,EAAE,CACNC,IAAI,CAAE,EAAE,CACRC,QAAQ,CAAE,EAAE,CACZC,WAAW,CAAE,EAAE,CACfC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACd,CAAC,CAAC,CAEF,KAAM,CAAEL,EAAG,CAAC,CAAGd,SAAS,CAAC,CAAC,CAE1B,KAAM,CAAAoB,YAAY,CAAG,KAAO,CAAAN,EAAE,EAAK,CAC/BO,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAGR,EAAE,CAAC,CACxC,GAAI,CACA,KAAM,CAAES,IAAK,CAAC,CAAG,KAAM,CAAAtB,UAAU,CAACa,EAAE,CAAC,CACrCD,UAAU,CAACU,IAAI,CAAC,CAChBF,OAAO,CAACC,GAAG,CAACC,IAAI,CAAC,CACrB,CAAE,MAAOC,KAAK,CAAE,CACZH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC,CAClBtB,UAAU,CAACsB,KAAK,CAACC,OAAO,CAAC,CAC7B,CACJ,CAAC,CAED5B,SAAS,CAAC,IAAM,CACZuB,YAAY,CAACN,EAAE,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIP,KAAA,CAAAE,SAAA,EAAAiB,QAAA,eACInB,KAAA,CAACR,IAAI,EAAC4B,EAAE,CAAE,WAAY,CAACC,SAAS,CAAC,MAAM,CAAAF,QAAA,eAACrB,IAAA,MAAGuB,SAAS,CAAC,kBAAkB,CAAI,CAAC,gBAAa,EAAM,CAAC,cAChGvB,IAAA,QAAKuB,SAAS,CAAC,SAAS,CAAAF,QAAA,cACpBnB,KAAA,QAAKqB,SAAS,CAAC,kBAAkB,CAAAF,QAAA,eAC7BrB,IAAA,QAAKwB,GAAG,CAAEjB,OAAO,CAACO,QAAS,CAACW,GAAG,qBAAAC,MAAA,CAAsBnB,OAAO,CAACG,IAAI,CAAG,CAAE,CAAC,cACvER,KAAA,QAAKqB,SAAS,CAAC,mBAAmB,CAAAF,QAAA,eAC9BrB,IAAA,MAAGuB,SAAS,CAAC,eAAe,CAAAF,QAAA,CAAEd,OAAO,CAACG,IAAI,CAAI,CAAC,cAC/CV,IAAA,MAAGuB,SAAS,CAAC,eAAe,CAAAF,QAAA,CAAEd,OAAO,CAACI,QAAQ,CAACgB,eAAe,CAAI,CAAC,cACnE3B,IAAA,MAAGuB,SAAS,CAAC,eAAe,CAAAF,QAAA,CAAEd,OAAO,CAACK,WAAW,CAAI,CAAC,cACtDZ,IAAA,MAAGuB,SAAS,CAAC,eAAe,CAAAF,QAAA,CAAEd,OAAO,CAACM,KAAK,CAAI,CAAC,EAC/C,CAAC,EACL,CAAC,CACL,CAAC,EACR,CAAC,CAEX,CAAC,CAED,cAAe,CAAAR,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}