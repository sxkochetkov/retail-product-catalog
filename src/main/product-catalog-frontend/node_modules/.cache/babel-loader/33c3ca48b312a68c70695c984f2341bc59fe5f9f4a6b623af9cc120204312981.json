{"ast":null,"code":"import{useEffect,useRef,useState}from'react';import'react-toastify/dist/ReactToastify.css';import{Routes,Route,Navigate}from'react-router-dom';import Header from'./components/Header';import ProductList from'./components/ProductList';import{getProducts,addProduct}from'./api/ProductService';import{toastError}from'./api/ToastService';import{ToastContainer}from'react-toastify';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const modalRef=useRef();const[data,setData]=useState({});const[currentPage,setCurrentPage]=useState(0);const getAllProducts=async function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;try{setCurrentPage(page);const{data}=await getProducts(page,size);setData(data);console.log(\"data retrieved\");console.log(data);}catch(error){console.log(error);}};useEffect(()=>{getAllProducts();},[]);const toggleModal=show=>show?modalRef.current.showModal():modalRef.current.close();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{toggleModal:toggleModal,numberOfProducts:data.totalElements}),/*#__PURE__*/_jsx(\"main\",{className:\"main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProductList,{data:data,currentPage:currentPage,getAllProducts:getAllProducts})})})})}),/*#__PURE__*/_jsx(ToastContainer,{})]});}{/* Modal */}/*#__PURE__*/_jsxs(\"dialog\",{ref:modalRef,className:\"modal\",id:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal__header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"New Contact\"}),/*#__PURE__*/_jsx(\"i\",{onClick:()=>toggleModal(false),className:\"bi bi-x-lg\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal__body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleNewContact,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"details\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:values.name,onChange:onChange,name:\"name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"details\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:values.email,onChange:onChange,name:\"email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"details\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:values.title,onChange:onChange,name:\"title\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"details\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:values.phone,onChange:onChange,name:\"phone\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"details\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:values.address,onChange:onChange,name:\"address\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"details\",children:\"Account Status\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:values.status,onChange:onChange,name:\"status\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-input\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"details\",children:\"Profile Photo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:event=>setFile(event.target.files[0]),ref:fileRef,name:\"photo\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_footer\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleModal(false),type:\"button\",className:\"btn btn-danger\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",children:\"Save\"})]})]})})]});export default App;","map":{"version":3,"names":["useEffect","useRef","useState","Routes","Route","Navigate","Header","ProductList","getProducts","addProduct","toastError","ToastContainer","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","modalRef","data","setData","currentPage","setCurrentPage","getAllProducts","page","arguments","length","undefined","size","console","log","error","toggleModal","show","current","showModal","close","children","numberOfProducts","totalElements","className","path","element","ref","id","onClick","onSubmit","handleNewContact","type","value","values","name","onChange","required","email","title","phone","address","status","event","setFile","target","files","fileRef"],"sources":["C:/space/java/retail-product-catalog/src/main/product-catalog-frontend/src/App.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport Header from './components/Header'\nimport ProductList from './components/ProductList'\nimport { getProducts, addProduct} from './api/ProductService';\nimport { toastError } from './api/ToastService';\nimport { ToastContainer } from 'react-toastify';\n\nfunction App() {\n  const modalRef = useRef();\n  const [data, setData] = useState({});\n  const [currentPage, setCurrentPage] = useState(0);\n\n  const getAllProducts = async (page = 0, size = 10) => {\n    try {\n      setCurrentPage(page);\n      const { data } = await getProducts(page, size);\n      setData(data);\n      console.log(\"data retrieved\");\n      console.log(data);\n    } catch(error) {\n      console.log(error);\n    }\n  }\n\n  useEffect(() => {\n    getAllProducts();\n  }, []);\n\n  const toggleModal = show => show ? modalRef.current.showModal() : modalRef.current.close();\n\n  return (\n    <>\n      <Header toggleModal={toggleModal}  numberOfProducts={data.totalElements} />\n      <main className='main'>\n        <div className='container'>\n          <Routes>\n            <Route path=\"/\" element={<ProductList data={data} currentPage={currentPage} getAllProducts={getAllProducts} />} />\n          </Routes>\n        </div>\n      </main>\n      <ToastContainer />\n      </>\n  );\n}\n\n{/* Modal */}\n      <dialog ref={modalRef} className=\"modal\" id=\"modal\">\n        <div className=\"modal__header\">\n          <h3>New Contact</h3>\n          <i onClick={() => toggleModal(false)} className=\"bi bi-x-lg\"></i>\n        </div>\n        <div className=\"divider\"></div>\n        <div className=\"modal__body\">\n          <form onSubmit={handleNewContact}>\n            <div className=\"user-details\">\n              <div className=\"input-box\">\n                <span className=\"details\">Name</span>\n                <input type=\"text\" value={values.name} onChange={onChange} name='name' required />\n              </div>\n              <div className=\"input-box\">\n                <span className=\"details\">Email</span>\n                <input type=\"text\" value={values.email} onChange={onChange} name='email' required />\n              </div>\n              <div className=\"input-box\">\n                <span className=\"details\">Title</span>\n                <input type=\"text\" value={values.title} onChange={onChange} name='title' required />\n              </div>\n              <div className=\"input-box\">\n                <span className=\"details\">Phone Number</span>\n                <input type=\"text\" value={values.phone} onChange={onChange} name='phone' required />\n              </div>\n              <div className=\"input-box\">\n                <span className=\"details\">Address</span>\n                <input type=\"text\" value={values.address} onChange={onChange} name='address' required />\n              </div>\n              <div className=\"input-box\">\n                <span className=\"details\">Account Status</span>\n                <input type=\"text\" value={values.status} onChange={onChange} name='status' required />\n              </div>\n              <div className=\"file-input\">\n                <span className=\"details\">Profile Photo</span>\n                <input type=\"file\" onChange={(event) => setFile(event.target.files[0])} ref={fileRef} name='photo' required />\n              </div>\n            </div>\n            <div className=\"form_footer\">\n              <button onClick={() => toggleModal(false)} type='button' className=\"btn btn-danger\">Cancel</button>\n              <button type='submit' className=\"btn\">Save</button>\n            </div>\n          </form>\n        </div>\n      </dialog>\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}