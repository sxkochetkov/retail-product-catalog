{"ast":null,"code":"import'./App.css';import{useEffect,useRef,useState}from'react';import{Routes,Route,Navigate}from'react-router-dom';import Header from'./components/Header';import ProductList from'./components/ProductList';import ProductDetail from'./components/ProductDetail';import{getProducts,addProduct}from'./api/ProductService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[data,setData]=useState({});const[currentPage,setCurrentPage]=useState(0);const getAllProducts=async function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;try{setCurrentPage(page);const{data}=await getProducts(page,size);setData(data);console.log(data);}catch(error){console.log(error);}};useEffect(()=>{getAllProducts();},[]);const toggleModal=show=>show?modalRef.current.showModal():modalRef.current.close();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{toggleModal:toggleModal,numberOfProducts:data.totalElements}),/*#__PURE__*/_jsx(\"main\",{className:\"main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:'/products'})}),/*#__PURE__*/_jsx(Route,{path:\"/products\",element:/*#__PURE__*/_jsx(ProductList,{data:data,currentPage:currentPage,getAllProducts:getAllProducts})}),/*#__PURE__*/_jsx(Route,{path:\"/products/:id\",element:/*#__PURE__*/_jsx(ProductDetail,{updateProduct:updateProduct,updateImage:updateImage})})]})})})]});}export default App;","map":{"version":3,"names":["useEffect","useRef","useState","Routes","Route","Navigate","Header","ProductList","ProductDetail","getProducts","addProduct","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","data","setData","currentPage","setCurrentPage","getAllProducts","page","arguments","length","undefined","size","console","log","error","toggleModal","show","modalRef","current","showModal","close","children","numberOfProducts","totalElements","className","path","element","to","updateProduct","updateImage"],"sources":["C:/space/java/retail-product-catalog/src/main/product-catalog-frontend/src/App.js"],"sourcesContent":["import './App.css';\nimport { useEffect, useRef, useState } from 'react';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport Header from './components/Header'\nimport ProductList from './components/ProductList'\nimport ProductDetail from './components/ProductDetail'\nimport { getProducts, addProduct} from './api/ProductService';\n\nfunction App() {\n  const [data, setData] = useState({});\n  const [currentPage, setCurrentPage] = useState(0);\n\n  const getAllProducts = async (page = 0, size = 10) => {\n    try {\n      setCurrentPage(page);\n      const { data } = await getProducts(page, size);\n      setData(data);\n\n      console.log(data);\n    } catch(error) {\n      console.log(error);\n    }\n  }\n\n  useEffect(() => {\n    getAllProducts();\n  }, []);\n\n  const toggleModal = show => show ? modalRef.current.showModal() : modalRef.current.close();\n\n  return (\n    <>\n      <Header toggleModal={toggleModal} numberOfProducts={data.totalElements} />\n      <main className='main'>\n        <div className='container'>\n          <Routes>\n            <Route path='/' element={<Navigate to={'/products'} />} />\n            <Route path=\"/products\" element={<ProductList data={data} currentPage={currentPage} getAllProducts={getAllProducts} />} />\n            <Route path=\"/products/:id\" element={<ProductDetail updateProduct={updateProduct} updateImage={updateImage} />} />\n          </Routes>\n        </div>\n      </main>\n      </>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,WAAW,CAClB,OAASA,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CACnD,OAASC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CAC1D,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CACtD,OAASC,WAAW,CAAEC,UAAU,KAAO,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE9D,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGjB,QAAQ,CAAC,CAAC,CAAC,CAAC,CACpC,KAAM,CAACkB,WAAW,CAAEC,cAAc,CAAC,CAAGnB,QAAQ,CAAC,CAAC,CAAC,CAEjD,KAAM,CAAAoB,cAAc,CAAG,cAAAA,CAAA,CAA+B,IAAxB,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,IAAE,CAAAG,IAAI,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CAC/C,GAAI,CACFH,cAAc,CAACE,IAAI,CAAC,CACpB,KAAM,CAAEL,IAAK,CAAC,CAAG,KAAM,CAAAT,WAAW,CAACc,IAAI,CAAEI,IAAI,CAAC,CAC9CR,OAAO,CAACD,IAAI,CAAC,CAEbU,OAAO,CAACC,GAAG,CAACX,IAAI,CAAC,CACnB,CAAE,MAAMY,KAAK,CAAE,CACbF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC,CACpB,CACF,CAAC,CAED9B,SAAS,CAAC,IAAM,CACdsB,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAS,WAAW,CAAGC,IAAI,EAAIA,IAAI,CAAGC,QAAQ,CAACC,OAAO,CAACC,SAAS,CAAC,CAAC,CAAGF,QAAQ,CAACC,OAAO,CAACE,KAAK,CAAC,CAAC,CAE1F,mBACEtB,KAAA,CAAAE,SAAA,EAAAqB,QAAA,eACEzB,IAAA,CAACN,MAAM,EAACyB,WAAW,CAAEA,WAAY,CAACO,gBAAgB,CAAEpB,IAAI,CAACqB,aAAc,CAAE,CAAC,cAC1E3B,IAAA,SAAM4B,SAAS,CAAC,MAAM,CAAAH,QAAA,cACpBzB,IAAA,QAAK4B,SAAS,CAAC,WAAW,CAAAH,QAAA,cACxBvB,KAAA,CAACX,MAAM,EAAAkC,QAAA,eACLzB,IAAA,CAACR,KAAK,EAACqC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAE9B,IAAA,CAACP,QAAQ,EAACsC,EAAE,CAAE,WAAY,CAAE,CAAE,CAAE,CAAC,cAC1D/B,IAAA,CAACR,KAAK,EAACqC,IAAI,CAAC,WAAW,CAACC,OAAO,cAAE9B,IAAA,CAACL,WAAW,EAACW,IAAI,CAAEA,IAAK,CAACE,WAAW,CAAEA,WAAY,CAACE,cAAc,CAAEA,cAAe,CAAE,CAAE,CAAE,CAAC,cAC1HV,IAAA,CAACR,KAAK,EAACqC,IAAI,CAAC,eAAe,CAACC,OAAO,cAAE9B,IAAA,CAACJ,aAAa,EAACoC,aAAa,CAAEA,aAAc,CAACC,WAAW,CAAEA,WAAY,CAAE,CAAE,CAAE,CAAC,EAC5G,CAAC,CACN,CAAC,CACF,CAAC,EACL,CAAC,CAET,CAEA,cAAe,CAAA5B,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}